<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>BinarySearch</title>
    <link href="styles/js-console.css" rel="stylesheet" />
</head>
<body>
    <input type="text" id="array" placeholder="Enter the array(by spaces):" />
    <input type="text" id="number" placeholder="Enter the number:" />
    <button onclick="binarySearch()">Find</button>
    <div id="js-console"></div>
    <script src="scripts/js-console.js"></script>
    <script>
        function binarySearch() {
            var array = jsConsole.read("#array").split(" ");
            for (var i = 0; i < array.length; i++) {
                array[i] = parseInt(array[i]);
            }

            array.sort(function (a, b) {
                return a - b;
            });

            var number = jsConsole.readInteger("#number");
            var start = 0;
            var end = array.length - 1;
            
            // Just using the algorithm from wikipedia
            while (true) {
                var mid = Math.floor((start + end) / 2);
                if (end < start) {
                    jsConsole.writeLine(number + " is not in the array.");
                    return -1;
                }
                else {
                    if (array[mid] < number) {
                        start = mid + 1;
                    }
                    else if (array[mid] > number) {
                        end = mid - 1;
                    }
                    else {
                        jsConsole.writeLine(number + " found at index " + mid);
                        return mid;
                    }
                }
            }
        }
    </script>
</body>
</html>
