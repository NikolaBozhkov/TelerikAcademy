<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>GetFirstElementBiggerThanNeighbors</title>
    <link href="styles/js-console.css" rel="stylesheet" />
</head>
<body>
    <input type="text" id="array" placeholder="Enter array(by spaces):" />
    <button onclick="getFirstElementBiggerThanNeighbors()">Get it</button>
    <div id="js-console"></div>
    <script src="scripts/js-console.js"></script>
    <script>
        function getFirstElementBiggerThanNeighbors() {
            var array = jsConsole.read("#array").split(" ");
            for (var i = 0; i < array.length; i++) {
                array[i] = parseInt(array[i]);
            }

            // Reused the same function from before, I did it like that cuz the task said so...
            // I think that a new function is better, but whatever
            for (var i = 1; i < array.length - 1; i++) {
                if (checkIfBiggerThanNeighbors(array, i) === 1) {
                    jsConsole.writeLine("First number bigger than it's neighbors has index " + i);
                    return i;
                }
            }

            jsConsole.writeLine("There is no number bigger than its neighbors");
            return -1;
        }

        function checkIfBiggerThanNeighbors(array, index) {
            // Error proof
            if (array === undefined) {
                jsConsole.writeLine("The array is undefined.");
                return -1;
            }
            else if (array.length < 3) {
                jsConsole.writeLine("There is no element with 2 neighbors.");
                return -1;
            }
            else if (isNaN(index)) {
                jsConsole.writeLine("Please enter an index.");
                return -1;
            }
            else if (index < 1 || index >= array.length - 1) {
                jsConsole.writeLine("The index cannot point to the first or last element or to be out of the array.");
                return -1;
            }

            if (array[index - 1] < array[index] && array[index + 1] < array[index]) {
                return 1;
            }
            else {
                return 0;
            }
        }
    </script>
</body>
</html>
